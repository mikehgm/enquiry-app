<div class="container mt-5">
  <app-back-button></app-back-button>
  <div class="d-flex justify-content-between align-items-center mb-3">
    <h3 class="mb-4">
      <i class="fas fa-users-cog me-2 text-primary"></i> {{'ui_admin_users_title' | label}}
    </h3>
    <a class="btn btn-success" [routerLink]="['create']">
      <i class="fas fa-user-plus me-1"></i> {{'ui_nuevo_usuario' | label}}
    </a>
  </div>

  <div class="table-responsive">
    <table class="table table-hover table-bordered align-middle">
      <thead class="table-light">
        <tr>
          <th>{{'ui_name' | label}}</th>
          <th>{{'ui_email' | label}}</th>
          <th>{{'ui_rol' | label}}</th>
          <th>{{'ui_confirmado' | label}}</th>
          <th class="text-center">{{'ui_acciones' | label}}</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let user of userList">
          <td>{{ user.fullName }}</td>
          <td>{{ user.email }}</td>
          <td>
            <span class="badge"
                  [ngClass]="{
                    'bg-primary': user.role === 'Admin',
                    'bg-secondary': user.role === 'User'
                  }">
              {{ user.role }}
            </span>
          </td>
          <td>
            <i class="fas" [ngClass]="{
              'fa-check-circle text-success': user.isConfirmed,
              'fa-times-circle text-danger': !user.isConfirmed
            }"></i>
          </td>
          <td class="text-center">
            <div class="btn-group">
              <a class="btn btn-sm btn-outline-primary"
                 [routerLink]="['edit', user.userId]">
                <i class="fas fa-edit"></i>
              </a>
              <button class="btn btn-sm btn-outline-danger"
                      (click)="deleteUser(user.userId)">
                <i class="fas fa-trash-alt"></i>
              </button>
            </div>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
